<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ‰“åœ°é¼ æ¸¸æˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            touch-action: manipulation;
            user-select: none;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }
        
        .game-container {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            padding: 20px;
            max-width: 95vw;
            width: 100%;
            text-align: center;
            color: white;
            border: 3px solid #8B4513;
            position: relative;
            overflow: hidden;
        }
        
        .game-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 12px;
            background: linear-gradient(to bottom, #8B4513, #5D2906);
            border-radius: 25px 25px 0 0;
            z-index: 2;
        }
        
        h1 {
            font-size: 2.5rem;
            margin: 10px 0;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
            letter-spacing: 1px;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            background: rgba(139, 69, 19, 0.7);
            border-radius: 10px;
            padding: 12px;
            margin: 15px 0;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            flex-wrap: wrap;
        }
        
        .info-box {
            background: #5D2906;
            padding: 8px 15px;
            border-radius: 8px;
            min-width: 30%;
            margin: 5px;
            flex: 1;
        }
        
        .info-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #FFD700;
        }
        
        .game-board {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        @media (min-width: 600px) {
            .game-board {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .hole {
            position: relative;
            height: 140px;
            cursor: pointer;
            perspective: 600px;
        }
        
        .hole-top {
            position: absolute;
            width: 100%;
            height: 25px;
            background: #5D2906;
            border-radius: 50%;
            top: 0;
            left: 0;
            z-index: 2;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.5);
        }
        
        .hole-container {
            position: absolute;
            width: 100%;
            height: 110px;
            top: 12px;
            overflow: hidden;
            border-radius: 0 0 50% 50%;
            background: #3A200D;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
        }
        
        .mole {
            position: absolute;
            width: 80%;
            height: 85px;
            background: linear-gradient(to bottom, #8B4513, #5D2906);
            border-radius: 50% 50% 40% 40%;
            bottom: -100px;
            left: 10%;
            transition: bottom 0.3s ease;
            z-index: 1;
            cursor: pointer;
        }
        
        .mole::before {
            content: "";
            position: absolute;
            width: 60%;
            height: 50%;
            background: #5D2906;
            border-radius: 50%;
            top: 10px;
            left: 20%;
        }
        
        .mole::after {
            content: "";
            position: absolute;
            width: 25px;
            height: 18px;
            background: #FFD700;
            border-radius: 50%;
            top: 22px;
            left: 20px;
            box-shadow: 35px 0 #FFD700;
        }
        
        .mole-name {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 215, 0, 0.9);
            color: #ff0000;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: bold;
            white-space: nowrap;
            box-shadow: 0 3px 5px rgba(0,0,0,0.3);
            z-index: 3;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .mole.active .mole-name {
            opacity: 1;
        }
        
        .mole.active {
            bottom: 0;
        }
        
        .mole.hit {
            background: linear-gradient(to bottom, #FF0000, #8B0000);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        button {
            background: linear-gradient(to bottom, #FFD700, #FFA500);
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            color: #5D2906;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.2s;
            min-width: 140px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .difficulty {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .difficulty-btn {
            padding: 8px 16px;
            font-size: 0.9rem;
            min-width: 90px;
        }
        
        .difficulty-btn.active {
            background: linear-gradient(to bottom, #4CAF50, #2E7D32);
            color: white;
        }
        
        .game-over {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            border-radius: 25px;
            display: none;
        }
        
        .game-over h2 {
            font-size: 2.5rem;
            color: #FFD700;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .final-score {
            font-size: 2.2rem;
            color: white;
            margin: 15px 0;
        }
        
        .hit-effect {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
            pointer-events: none;
            animation: hitEffect 0.6s forwards;
            z-index: 5;
        }
        
        @keyframes hitEffect {
            0% { transform: scale(0.5); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        .instruction {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }
        
        .mole-list {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
            opacity: 0.7;
        }
        
        .mole-tag {
            background: rgba(255, 215, 0, 0.2);
            border: 1px solid rgba(255, 215, 0, 0.4);
            border-radius: 15px;
            padding: 4px 10px;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1><i class="fas fa-paw"></i> æ‰“åœ°é¼ æ¸¸æˆ <i class="fas fa-paw"></i></h1>
        
        <div class="instruction">
            ç‚¹å‡»å‡ºç°çš„åœ°é¼ è·å¾—åˆ†æ•°ï¼æ¯ä¸ªåœ°é¼ éƒ½æœ‰åå­—ï¼Œè¯•è¯•çœ‹ä½ èƒ½é‡åˆ°è°ï¼Ÿ
        </div>
        
        <div class="game-info">
            <div class="info-box">
                <div>å¾—åˆ†</div>
                <div id="score" class="info-value">0</div>
            </div>
            <div class="info-box">
                <div>å‰©ä½™æ—¶é—´</div>
                <div id="timer" class="info-value">60</div>
            </div>
            <div class="info-box">
                <div>æœ€é«˜åˆ†</div>
                <div id="high-score" class="info-value">0</div>
            </div>
        </div>
        
        <div class="mole-list">
            <div class="mole-tag">æ‰˜è‰å¨œ</div>
            <div class="mole-tag">å°æ¡‚å­</div>
            <div class="mole-tag">ç«¹å¸</div>
            <div class="mole-tag">ç‰Ÿç‰Ÿ</div>
            <div class="mole-tag">Sakura</div>
            <div class="mole-tag">å¿µå¹³é¥</div>
            <div class="mole-tag">è±æ‹‰</div>
            <div class="mole-tag">à¸…^â€¢ğ–¥¦â€¢^à¸… à©­</div>
        </div>
        
        <div class="game-board">
            <div class="hole">
                <div class="hole-top"></div>
                <div class="hole-container">
                    <div class="mole" onclick="hitMole(this)">
                        <div class="mole-name">æ‰˜è‰å¨œ</div>
                    </div>
                </div>
            </div>
            <div class="hole">
                <div class="hole-top"></div>
                <div class="hole-container">
                    <div class="mole" onclick="hitMole(this)">
                        <div class="mole-name">å°æ¡‚å­</div>
                    </div>
                </div>
            </div>
            <div class="hole">
                <div class="hole-top"></div>
                <div class="hole-container">
                    <div class="mole" onclick="hitMole(this)">
                        <div class="mole-name">ç«¹å¸</div>
                    </div>
                </div>
            </div>
            <div class="hole">
                <div class="hole-top"></div>
                <div class="hole-container">
                    <div class="mole" onclick="hitMole(this)">
                        <div class="mole-name">Sakura</div>
                    </div>
                </div>
            </div>
            <div class="hole">
                <div class="hole-top"></div>
                <div class="hole-container">
                    <div class="mole" onclick="hitMole(this)">
                        <div class="mole-name">å¿µå¹³é¥</div>
                    </div>
                </div>
            </div>
            <div class="hole">
                <div class="hole-top"></div>
                <div class="hole-container">
                    <div class="mole" onclick="hitMole(this)">
                        <div class="mole-name">è±æ‹‰</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="difficulty">
            <button class="difficulty-btn active" onclick="setDifficulty('easy')">ç®€å•</button>
            <button class="difficulty-btn" onclick="setDifficulty('medium')">ä¸­ç­‰</button>
            <button class="difficulty-btn" onclick="setDifficulty('hard')">å›°éš¾</button>
        </div>
        
        <div class="controls">
            <button id="start-btn" onclick="startGame()"><i class="fas fa-play"></i> å¼€å§‹æ¸¸æˆ</button>
            <button id="reset-btn" onclick="resetGame()"><i class="fas fa-redo"></i> é‡æ–°å¼€å§‹</button>
        </div>
        
        <div class="game-over" id="game-over">
            <h2>æ¸¸æˆç»“æŸ!</h2>
            <div class="final-score">å¾—åˆ†: <span id="final-score">0</span></div>
            <p style="margin-bottom: 20px; color: #FFD700;">ä½ é‡åˆ°äº†: <span id="mole-counter">0</span> åªä¸åŒåœ°é¼ </p>
            <button onclick="resetGame()"><i class="fas fa-redo"></i> å†ç©ä¸€æ¬¡</button>
        </div>
    </div>
    
    <script>
        // æ¸¸æˆå˜é‡
        let score = 0;
        let timeLeft = 60;
        let highScore = localStorage.getItem('moleHighScore') || 0;
        let gameActive = false;
        let timer;
        let moleTimer;
        let difficulty = 'medium';
        let uniqueMoles = new Set();
        let moleCounter = 0;
        
        // åœ°é¼ åå­—åˆ—è¡¨
        const moleNames = [
            "å°æ¡‚å­", "æ‰˜è‰å¨œ", "ç«¹ å¸", "Sora", 
            "Feather Ink", "æ´» è›‹kimi à¼ â€“ _ â€“ à¼", "yang yang", "å¤ªæ°´å£¬é¾™ç‰",
            "è‰¾å¦®ä¸è²äºš", "å¦®æ¬§æ²", "æ˜¯é˜¿æºkiraâ™ªï½ ", "Zard",
            "à¸…^â€¢ğ–¥¦â€¢^à¸… à©­", "æ˜Ÿå¨˜", "é¥ é‡‡é£è°·çš„å·å­", "Ron","è™¾ä¸¸",
            "ä¸‹åˆèŒ¶","é£ å®‡","cycle å¿µå¹³é¥","å…ƒ","åˆ©å§†éœ²","å¥ˆå¥ˆ ä¼Š",
            "Dee","è‘±å§œ","Aegisub","æ³•å¸ˆç‰›å¨˜","Sakura","æ€ æƒ°å­","ç‰Ÿç‰Ÿ",
            "ç‹ç«ç«","è±æ‹‰Lila","Si_Ru","ç°","RJ","å¤§ç™½"
        ];
        
        // DOMå…ƒç´ 
        const scoreElement = document.getElementById('score');
        const timerElement = document.getElementById('timer');
        const highScoreElement = document.getElementById('high-score');
        const startBtn = document.getElementById('start-btn');
        const gameOverScreen = document.getElementById('game-over');
        const finalScoreElement = document.getElementById('final-score');
        const difficultyBtns = document.querySelectorAll('.difficulty-btn');
        const moles = document.querySelectorAll('.mole');
        const moleCounterElement = document.getElementById('mole-counter');
        
        // åˆå§‹åŒ–æ˜¾ç¤º
        highScoreElement.textContent = highScore;
        
        // ä¸ºæ¯ä¸ªåœ°é¼ è®¾ç½®éšæœºåå­—
        moles.forEach(mole => {
            const nameElement = mole.querySelector('.mole-name');
            nameElement.textContent = moleNames[Math.floor(Math.random() * moleNames.length)];
        });
        
        // è®¾ç½®éš¾åº¦
        function setDifficulty(level) {
            difficulty = level;
            
            // æ›´æ–°æŒ‰é’®æ ·å¼
            difficultyBtns.forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(level)) {
                    btn.classList.add('active');
                }
            });
            
            // å¦‚æœæ¸¸æˆæ­£åœ¨è¿›è¡Œä¸­ï¼Œé‡æ–°å¼€å§‹
            if (gameActive) {
                resetGame();
                startGame();
            }
        }
        
        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            if (gameActive) return;
            
            gameActive = true;
            score = 0;
            timeLeft = 60;
            uniqueMoles.clear();
            moleCounter = 0;
            scoreElement.textContent = score;
            timerElement.textContent = timeLeft;
            startBtn.disabled = true;
            
            // å¯åŠ¨è®¡æ—¶å™¨
            timer = setInterval(() => {
                timeLeft--;
                timerElement.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
            
            // å¯åŠ¨åœ°é¼ 
            popUpMole();
        }
        
        // åœ°é¼ å‡ºç°
        function popUpMole() {
            if (!gameActive) return;
            
            // æ ¹æ®éš¾åº¦è®¾ç½®æ—¶é—´é—´éš”
            let interval;
            switch(difficulty) {
                case 'easy':
                    interval = 1800;
                    break;
                case 'medium':
                    interval = 1200;
                    break;
                case 'hard':
                    interval = 800;
                    break;
                default:
                    interval = 1200;
            }
            
            // éšæœºé€‰æ‹©ä¸€ä¸ªåœ°é¼ 
            const randomIndex = Math.floor(Math.random() * moles.length);
            const mole = moles[randomIndex];
            const nameElement = mole.querySelector('.mole-name');
            
            // éšæœºé€‰æ‹©æ–°åå­—
            const newName = moleNames[Math.floor(Math.random() * moleNames.length)];
            nameElement.textContent = newName;
            
            // è®°å½•é‡åˆ°çš„åœ°é¼ 
            if (!uniqueMoles.has(newName)) {
                uniqueMoles.add(newName);
                moleCounter++;
            }
            
            // æ˜¾ç¤ºåœ°é¼ 
            mole.classList.add('active');
            
            // è®¾ç½®åœ°é¼ æ¶ˆå¤±çš„æ—¶é—´
            const hideTime = Math.random() * 2000 + 1000; // 1-3ç§’
            setTimeout(() => {
                mole.classList.remove('active');
                mole.classList.remove('hit');
                
                // ç»§ç»­æ˜¾ç¤ºä¸‹ä¸€ä¸ªåœ°é¼ 
                if (gameActive) {
                    moleTimer = setTimeout(popUpMole, interval);
                }
            }, hideTime);
        }
        
        // å‡»ä¸­åœ°é¼ 
        function hitMole(mole) {
            if (!gameActive || !mole.classList.contains('active') || mole.classList.contains('hit')) {
                return;
            }
            
            // æ ‡è®°ä¸ºè¢«å‡»ä¸­
            mole.classList.add('hit');
            mole.classList.remove('active');
            
            // è·å–åœ°é¼ åå­—
            const moleName = mole.querySelector('.mole-name').textContent;
            
            // å¢åŠ åˆ†æ•°
            score += 10;
            scoreElement.textContent = score;
            
            // åˆ›å»ºå‡»ä¸­æ•ˆæœ
            const rect = mole.getBoundingClientRect();
            const effect = document.createElement('div');
            effect.className = 'hit-effect';
            effect.style.left = (rect.left + rect.width/2 - 40) + 'px';
            effect.style.top = (rect.top + rect.height/2 - 40) + 'px';
            document.body.appendChild(effect);
            
            // ç§»é™¤æ•ˆæœå…ƒç´ 
            setTimeout(() => {
                effect.remove();
            }, 600);
            
            // æ’­æ”¾å£°éŸ³
            playHitSound();
        }
        
        // æ’­æ”¾å‡»ä¸­å£°éŸ³
        function playHitSound() {
            const context = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = context.createOscillator();
            const gainNode = context.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(context.destination);
            
            oscillator.type = 'sine';
            oscillator.frequency.value = 300;
            gainNode.gain.value = 0.3;
            
            oscillator.start();
            
            setTimeout(() => {
                oscillator.stop();
            }, 150);
        }
        
        // ç»“æŸæ¸¸æˆ
        function endGame() {
            gameActive = false;
            clearInterval(timer);
            clearTimeout(moleTimer);
            startBtn.disabled = false;
            
            // éšè—æ‰€æœ‰åœ°é¼ 
            moles.forEach(mole => {
                mole.classList.remove('active');
                mole.classList.remove('hit');
            });
            
            // æ›´æ–°æœ€é«˜åˆ†
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('moleHighScore', highScore);
                highScoreElement.textContent = highScore;
            }
            
            // æ˜¾ç¤ºæ¸¸æˆç»“æŸç”»é¢
            finalScoreElement.textContent = score;
            moleCounterElement.textContent = moleCounter;
            gameOverScreen.style.display = 'flex';
        }
        
        // é‡ç½®æ¸¸æˆ
        function resetGame() {
            gameActive = false;
            clearInterval(timer);
            clearTimeout(moleTimer);
            score = 0;
            timeLeft = 60;
            uniqueMoles.clear();
            moleCounter = 0;
            scoreElement.textContent = score;
            timerElement.textContent = timeLeft;
            startBtn.disabled = false;
            
            // éšè—æ‰€æœ‰åœ°é¼ 
            moles.forEach(mole => {
                mole.classList.remove('active');
                mole.classList.remove('hit');
            });
            
            // éšè—æ¸¸æˆç»“æŸç”»é¢
            gameOverScreen.style.display = 'none';
            
            // ä¸ºæ¯ä¸ªåœ°é¼ é‡æ–°è®¾ç½®éšæœºåå­—
            moles.forEach(mole => {
                const nameElement = mole.querySelector('.mole-name');
                nameElement.textContent = moleNames[Math.floor(Math.random() * moleNames.length)];
            });
        }
        
        // é˜²æ­¢ç§»åŠ¨è®¾å¤‡ä¸Šçš„è§¦æ‘¸æ»šåŠ¨
        document.addEventListener('touchmove', function(e) {
            if (gameActive) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>